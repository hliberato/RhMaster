<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">	      
	
<h:head>
	<title>Listagem</title>
	<!-- <script name="jquery/jquery.js" library="primefaces"></script> -->
</h:head>
<h:body>
	<center><h1>Listagem de Produtos</h1></center>
	<hr/>
	
	<h:form id="form1">
		<p:growl id="growl" showDetail="true" life="2000" />	
		<p:dataTable id="produto" var="produto" value="#{produtoBean.produtos}">
			<p:growl id="message" showDetail="true" />
			
		    <p:column headerText="Código">
		        <h:outputText value="#{produto.codigo}" />
		    </p:column>
		 
		    <p:column headerText="Descrição">
		        <h:outputText value="#{produto.descricao}" />
		    </p:column>
		 
		    <p:column headerText="Fornecedor">
		        <h:outputText value="#{produto.fornecedor}" />
		    </p:column>
		 
		    <p:column headerText="Peso">
		        <h:outputText value="#{produto.peso}" />
		    </p:column>
		    
		   	<p:column headerText="Custo">
		        <h:outputText value="#{produto.custo}" />
		    </p:column>
		    
		    <p:column headerText="Editar">
			<h:commandLink action="#{produtoBean.editar}">
					<h:graphicImage library="imagens" name="editar16.png" style="border:0"/>
					<f:setPropertyActionListener target="#{produtoBean.produto}" value="#{produto}"/>
					<f:setPropertyActionListener target="#{produtoBean.destinoSalvar}" value="/listagem"/>
				</h:commandLink>
			</p:column>
			
			<p:column>
				<p:commandLink action="#{produtoBean.excluir}" update="@all">
					<h:graphicImage library="imagens" name="excluir16.png" style="border:0"/>
					<f:setPropertyActionListener target="#{produtoBean.produto}" value="#{produto}"/>
					<p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />
				</p:commandLink>
				
				<p:confirmDialog global="true" showEffect="fade">
			        <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
			        <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			    </p:confirmDialog>
				
	
			</p:column>

			
		</p:dataTable>		
	</h:form>
	
	<br/>
	<h:form>		
		<p:commandButton action="#{produtoBean.novo}" value="Cadastrar novo produto"/>
		<br/><br/>
		<p:commandButton action="#{produtoBean.relatorio}" value="Gerar relatório"/>
		<br/><br/>
	</h:form>
</h:body>
</html>